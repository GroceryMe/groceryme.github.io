<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Basket Wise — Grocery Spend Insights</title>
    <meta name="description" content="Find out what you're spending the most on in your grocery shopping.">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0d1f16">
    <link rel="canonical" href="https://basket-wise.com/">
    <link rel="preload" as="image" href="./img-1.png">
    <meta name="keywords" content="grocery spending, receipt scanner, grocery insights, grocery budget, Basket Wise">
    
    <!-- Open Graph -->
    <meta property="og:site_name" content="Basket Wise">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_GB">
    <meta property="og:title" content="Basket Wise — Grocery Spend Insights">
    <meta property="og:description" content="Find out what you're spending the most on in your grocery shopping.">
    <meta property="og:url" content="https://basket-wise.com/">
    <meta property="og:image" content="https://basket-wise.com/preview.png">
    <meta property="og:image:alt" content="Basket Wise app preview">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Basket Wise — Grocery Spend Insights">
    <meta name="twitter:description" content="Find out what you're spending the most on in your grocery shopping.">
    <meta name="twitter:image" content="https://basket-wise.com/preview.png">
    <meta name="twitter:image:alt" content="Basket Wise app preview">

    <!-- JSON-LD -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Basket Wise",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "iOS, Android",
      "description": "Find out what you're spending the most on in your grocery shopping.",
      "image": "https://basket-wise.com/preview.png",
      "screenshot": "https://basket-wise.com/preview.png",
      "inLanguage": "en-GB",
      "url": "/",
      "publisher": {
        "@type": "Organization",
        "name": "Basket Wise"
      }
    }
    </script>
    <link rel="icon" href="data:,"><!-- simple empty favicon to avoid 404 -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2ZSZ3NZVJM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);} 
      gtag('js', new Date());
      gtag('config', 'G-2ZSZ3NZVJM');
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
  </head>
  <body>
    <header class="site-header">
      <nav class="container nav">
        <div class="logo">Basket Wise</div>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="container hero__inner">
          <div class="hero__content">
            <h1 class="hero__title">See exactly where your grocery money goes</h1>
            <p class="hero__subtitle">Snap receipts. Auto‑categorize items. Insights that actually help you spend smarter.</p>
            <div class="actions">
              <a class="store-badge store-badge--apple" aria-label="Download on the App Store">
                <img
                  src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/white/en-US?size=200x66"
                  alt="Download on the App Store"
                />
              </a>
              <a class="store-badge store-badge--google" aria-label="Get it on Google Play">
                <img
                  src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png"
                  alt="Get it on Google Play"
                />
              </a>
            </div>
          </div>
          <div class="hero__media">
            <img class="hero__image" src="./img-1.png" alt="Basket Wise app preview" width="480" height="360" decoding="async" />
          </div>
        </div>
      </section>

      <section id="learn" class="feature">
        <div class="container feature__inner">
          <h2>Main benefits</h2>
          <ul class="benefits">
            <li>Item‑level insights across all your receipts</li>
            <li>Track categories like bread, snacks, and household</li>
            <li>Spot trends</li>
          </ul>
        </div>
      </section>

      
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>© 2025 Basket Wise</p>
      </div>
    </footer>
    <div class="modal" id="beta-modal" aria-hidden="true">
      <div class="modal__backdrop" data-close="true"></div>
      <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="beta-modal-title">
        <button type="button" class="modal__close" aria-label="Close" data-close="true">×</button>
        <h3 id="beta-modal-title">Join the beta</h3>
        <p class="modal__lead">Enter your email to get early access.</p>
        <form id="beta-form" class="modal__form" novalidate>
          <input type="email" id="beta-email" name="email" placeholder="you@example.com" required />
          <input type="hidden" id="beta-platform" name="platform" />
          <button type="submit" class="button primary small">Submit</button>
          <div class="modal__error" id="beta-error" aria-live="polite"></div>
          <div class="modal__success" id="beta-success" aria-live="polite" hidden>Thanks! You're on the list.</div>
        </form>
      </div>
    </div>
    <script>
      (function() {
        var iosBadge = document.querySelector('.store-badge--apple');
        if (!iosBadge) return;
        iosBadge.addEventListener('click', function() {
          if (typeof gtag !== 'undefined') {
            gtag('event', 'download_ios');
            console.log('[analytics] download_ios tracked');
          }
          openModal('ios');
        });
        var androidBadge = document.querySelector('.store-badge--google');
        if (androidBadge) {
          androidBadge.addEventListener('click', function() {
            if (typeof gtag !== 'undefined') {
              gtag('event', 'download_android');
              console.log('[analytics] download_android tracked');
            }
            openModal('android');
          });
        }

        var modal = document.getElementById('beta-modal');
        var form = document.getElementById('beta-form');
        var emailInput = document.getElementById('beta-email');
        var platformInput = document.getElementById('beta-platform');
        var errorEl = document.getElementById('beta-error');
        var successEl = document.getElementById('beta-success');
        var lastFocused = null;

        function openModal(platform) {
          lastFocused = document.activeElement;
          platformInput.value = platform;
          modal.classList.add('is-open');
          modal.setAttribute('aria-hidden', 'false');
          errorEl.textContent = '';
          successEl.hidden = true;
          emailInput.disabled = false;
          form.querySelector('button[type="submit"]').disabled = false;
          setTimeout(function() { emailInput.focus(); }, 0);
        }

        function closeModal() {
          modal.classList.remove('is-open');
          modal.setAttribute('aria-hidden', 'true');
          if (lastFocused && typeof lastFocused.focus === 'function') {
            lastFocused.focus();
          }
        }

        modal.addEventListener('click', function(e) {
          if (e.target && e.target.getAttribute('data-close') === 'true') {
            closeModal();
          }
        });

        document.addEventListener('keydown', function(e) {
          if (modal.classList.contains('is-open') && e.key === 'Escape') {
            closeModal();
          }
        });

        function appendToGoogleSheet(payload) {
          try {
            var webAppUrl = "https://script.google.com/macros/s/AKfycbzaztu1qI-JbtxWXxyW7OVQxrtOO9c2__ugdBWsoKBmhvsxzmKC6umZHpdMoI1z6ZmmdA/exec";
            if (!webAppUrl) {
              console.warn('[beta] SHEETS_WEB_APP_URL missing, skipping append');
              return;
            }
            var body = new URLSearchParams({
              dateSubmitted: payload.ts,
              email: payload.email,
              platform: payload.platform
            }).toString();
            fetch(webAppUrl, {
              method: 'POST',
              mode: 'no-cors',
              headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
              body: body
            }).then(function() {
              console.log('[beta] appended to Google Sheet via Web App (no-cors)');
            }).catch(function(err) {
              console.error('[beta] Web App append error', err);
            });
          } catch (err) {
            console.error('[beta] Web App append exception', err);
          }
        }

        form.addEventListener('submit', function(e) {
          e.preventDefault();
          errorEl.textContent = '';

          var email = (emailInput.value || '').trim();
          var platform = (platformInput.value || '').trim();
          if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
            errorEl.textContent = 'Please enter a valid email address.';
            emailInput.focus();
            return;
          }

          var submitBtn = form.querySelector('button[type="submit"]').disabled = true;
          emailInput.disabled = true;

          var payload = { email: email, platform: platform, ts: new Date().toISOString() };

          var endpoint = window.BETA_SIGNUP_ENDPOINT;
          var done = function(payloadDone) {
            successEl.hidden = false;
            if (typeof gtag !== 'undefined') {
              gtag('event', 'beta_signup_submitted', { platform: platform });
            }
            appendToGoogleSheet(payloadDone);
          };

          if (typeof endpoint === 'string' && endpoint) {
            try {
              fetch(endpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
              }).then(function(res) {
                if (!res.ok) throw new Error('Request failed');
                return res.text();
              }).then(function() { done(payload); })
                .catch(function(err) {
                  console.error('[beta] submit failed', err);
                  errorEl.textContent = 'Could not submit right now. Please try again later.';
                  emailInput.disabled = false;
                  form.querySelector('button[type="submit"]').disabled = false;
                });
            } catch (err) {
              console.error('[beta] submit error', err);
              errorEl.textContent = 'Could not submit right now. Please try again later.';
              emailInput.disabled = false;
              form.querySelector('button[type="submit"]').disabled = false;
            }
          } else {
            try {
              var key = 'bw_beta_signups';
              var list = [];
              try { list = JSON.parse(localStorage.getItem(key) || '[]'); } catch(_) {}
              list.push(payload);
              localStorage.setItem(key, JSON.stringify(list));
              console.log('[beta] captured email for', platform);
              done(payload);
            } catch (e2) {
              console.warn('[beta] local save failed', e2);
              done(payload);
            }
          }
        });
      })();
    </script>
  </body>
</html>


